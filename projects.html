<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projects - Tess Kramer</title>
    <link rel="stylesheet" href="styles.css">
    <!-- PDF.js CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
    <script>
        // Wait for the page to load
        window.addEventListener('load', function() {
            const pdfjsLib = window['pdfjs-dist/build/pdf'];
            pdfjsLib.GlobalWorkerOptions.workerSrc = 'https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.worker.min.js';

            let currentPage = 1;
            let pdf = null;

            // Load the PDF
            pdfjsLib.getDocument('./Wine-Quality-Presentation.pdf').promise
                .then(function(pdfDoc) {
                    pdf = pdfDoc;
                    document.getElementById('pageCount').textContent = pdf.numPages;
                    renderPage(currentPage);
                })
                .catch(function(error) {
                    console.error('Error loading PDF:', error);
                    document.getElementById('pdfContainer').innerHTML = '<p class="error">Error loading PDF. Please make sure the file exists.</p>';
                });

            function renderPage(pageNumber) {
                pdf.getPage(pageNumber).then(function(page) {
                    const canvas = document.getElementById('pdfCanvas');
                    const context = canvas.getContext('2d');
                    const viewport = page.getViewport({ scale: 1.5 });

                    canvas.width = viewport.width;
                    canvas.height = viewport.height;

                    page.render({
                        canvasContext: context,
                        viewport: viewport
                    });

                    document.getElementById('currentPage').textContent = pageNumber;
                });
            }

            // Button event listeners
            document.getElementById('prevBtn').addEventListener('click', function() {
                if (currentPage > 1) {
                    currentPage--;
                    renderPage(currentPage);
                }
            });

            document.getElementById('nextBtn').addEventListener('click', function() {
                if (currentPage < pdf.numPages) {
                    currentPage++;
                    renderPage(currentPage);
                }
            });
        });
    </script>
</head>
<body>
    <nav>
        <a href="index.html">Home</a>
        <a href="projects.html">Projects</a>
        <a href="experience.html">Experience</a>
        <a href="education.html">Education</a>
        <a href="contact.html">Contact</a>
    </nav>

    <section id="projects">
        <h2>Projects</h2>
        <div class="project">
            <h3>Wine Quality Analysis</h3>
            <p>Analysis of what variables contribute to the best wine quality. Click below to navigate through the slides.</p>
            
            <div id="pdfContainer">
                <canvas id="pdfCanvas"></canvas>
                <div class="pdfControls">
                    <button id="prevBtn">Previous</button>
                    <span>Page <span id="currentPage">1</span> of <span id="pageCount">-</span></span>
                    <button id="nextBtn">Next</button>
                </div>
            </div>
        </div>
    </section>

    <footer>
        <p>Â© 2025 Tess Kramer. All rights reserved.</p>
    </footer>
</body>
</html>
